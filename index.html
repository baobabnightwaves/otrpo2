<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>Города Португалии</title>
  <link rel="icon" href="321256.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=B612:wght@400;700&family=Rubik:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="bootstrap-5.3.8-dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body class="bg-light" style="font-family: 'B612', sans-serif;">
    <nav class="navbar navbar-expand-lg bg-dark text-white py-3">
        <div class="container d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center">
                <img src="img/pt.png" alt="Флаг Португалии" height="60" class="me-3">
                <h1 class="h3 mb-0 text-white">Главные города Португалии</h1>
            </div>
            <button class="btn btn-light">Загрузить</button>
        </div>
    </nav>

    <header class="container text-center my-5">
        <h1 class="display-6 fw-bold text-dark text-start">Города Португалии</h1>
    </header>

    <div class="container mb-5">
        <div class="row g-4">
            <!-- Лиссабон -->
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 shadow-sm custom-card">
                    <div class="position-relative">
                        <img src="img/Coat_of_Arms_of_Lisbon.png" class="card-img-top p-4">
                        <span class="position-absolute top-0 start-0 bg-white border px-2 py-1 small">Герб</span>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h3 class="card-title">Лиссабо́н</h3>
                        <p class="card-text flex-grow-1">
                            Лиссабон — столица Португалии с населением около 505 000 человек. 
                            Основан в 1256 году, мэр — Карлос Мойедаш. 
                            Город впечатляет своей архитектурой, живописными видами на реку Тежу и богатой историей. 
                            Соседи: на север — Лореш, на запад — Ош-Креш, на восток — Вила-Франка-де-Шира.
                        </p>
                        <button class="btn btn-outline-primary mt-auto" data-bs-toggle="modal" data-bs-target="#modalLisbon">Подробнее</button>
                    </div>
                </div>
            </div>
            <!-- Порту -->
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 shadow-sm custom-card">
                    <div class="position-relative">
                        <img src="img/Porto_COA.svg.png" class="card-img-top p-4">
                        <span class="position-absolute top-5 start-0 bg-white border px-2 py-1 small">Герб</span>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h3 class="card-title">По́рту</h3>
                        <p class="card-text flex-grow-1">
                            Порту — портовый город на севере страны, население около 237 000 человек. 
                            Основан в 1123 году, мэр — Руй Морейра. 
                            Здесь старинные улицы гармонично соседствуют с современными кафе и винными погребами. 
                            Соседи: на север — Матозиньюш, на восток — Гондомар, на юг — Вила-Нова-де-Гая.
                        </p>
                        <button class="btn btn-outline-primary mt-auto" data-bs-toggle="modal" data-bs-target="#modalPortu">Подробнее</button>
                    </div>
                </div>
            </div>
            <!-- Коимбра -->
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 shadow-sm custom-card">
                    <div class="position-relative">
                        <img src="img/250px-CBR.png" class="card-img-top p-4">
                        <span class="position-absolute top-0 start-0 bg-white border px-2 py-1 small">Герб</span>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h3 class="card-title">Ко́имбра</h3>
                        <p class="card-text flex-grow-1">
                            Коимбра — город университетов и культурного наследия, население около 143 000 человек. 
                            Основан в 1080 году, мэр — Жозе Мануэл Силва. 
                            Исторический центр города манит туристов узкими улочками и величественными зданиями. 
                            Соседи: на север — Мира, на восток — Пениела, на юг — Монтемор-у-Велью.
                        </p>
                        <button class="btn btn-outline-primary mt-auto" data-bs-toggle="modal" data-bs-target="#modalKoimbra">Подробнее</button>
                    </div>
                </div>
            </div>
                <!-- Фару -->
                <div class="col-lg-4 col-md-6 col-sm-12">
                    <div class="card h-100 shadow-sm custom-card">
                        <div class="position-relative">
                            <img src="img/Faroarms.svg.png" class="card-img-top p-4">
                            <span class="position-absolute top-0 start-0 bg-white border px-2 py-1 small">Герб</span>
                        </div>
                        <div class="card-body d-flex flex-column">
                            <h3 class="card-title">Фа́ру</h3>
                            <p class="card-text flex-grow-1">
                                Фару — ворота солнечного Алгарве, население около 60 000 человек.
                                Основан в 1266 году, мэр — Роже́риу Бакальяу.
                                Здесь уютные улочки, морской бриз и живописные пляжи.
                                Соседи: на север — Сан-Браш-де-Алпортел, на запад — Луле, на восток — Ольян.
                            </p>
                            <button class="btn btn-outline-primary mt-auto" data-bs-toggle="modal" data-bs-target="#modalFaru">Подробнее</button>
                        </div>
                    </div>
                </div>
                <!-- Эвора -->
                <div class="col-lg-4 col-md-6 col-sm-12">
                    <div class="card h-100 shadow-sm custom-card">
                        <div class="position-relative">
                            <img src="img/COA_of_Évora_municipality_(Portugal).png" class="card-img-top p-4" alt="Герб Эворы">
                            <span class="position-absolute top-0 start-0 bg-white border px-2 py-1 small">Герб</span>
                        </div>
                        <div class="card-body d-flex flex-column">
                            <h3 class="card-title">Э́вора</h3>
                            <p class="card-text flex-grow-1">
                                Эвора — жемчужина Алентежу с населением около 56 000 человек.
                                Основан в 1166 году, мэр — Карлос Пинту де Са.
                                Город славится историческим центром, римскими храмами и уютной атмосферой.
                                Соседи: на север — Араёйолос, на юг — Виана-ду-Алентежу, на восток — Эштремош.
                            </p>
                            <button class="btn btn-outline-primary mt-auto" data-bs-toggle="modal" data-bs-target="#modalEvora">Подробнее</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="bg-light border-top py-4 text-center">
        <h6 class="text-muted mb-0">Мухамадиев Дамир Ринатович</h6>
    </footer>
    <div class="modal fade" id="modalLisbon" data-index="1" aria-labelledby="modalLisbonLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalLisbonLabel">Лиссабон — столица Португалии</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
                </div>
                <div class="modal-body">
                    <img src="img/Coat_of_Arms_of_Lisbon.png" class="img-fluid mb-3" style="max-height:150px;">
                    <img src="img/Lisbon_Montage_2020.jpg" class="img-fluid mb-3" style="max-height:150px;">
                    <p>
                        Лиссабон — столица Португалии с населением около 505 000 человек. 
                        Основан в 1256 году, мэр — Карлос Мойедаш. 
                        Город впечатляет своей архитектурой, живописными видами на реку Тежу и богатой историей. 
                        Соседи: на север — Лореш, на запад — Ош-Креш, на восток — Вила-Франка-де-Шира.
                    </p>
                    <a href="https://ru.wikipedia.org/wiki/Лиссабон" target="_blank" class="btn btn-primary">Источник</a>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="modalPortu" data-index="2" aria-labelledby="modalPortuLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalPortuLabel">Порту — портовый город на севере страны</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
                </div>
                <div class="modal-body">
                    <img src="img/Porto_COA.svg.png" class="img-fluid mb-3" style="max-height:150px;">
                    <img src="img/Porto_collage.jpg" class="img-fluid mb-3" style="max-height:150px;">
                    <p>
                        Порту — портовый город на севере страны, население около 237 000 человек. 
                        Основан в 1123 году, мэр — Руй Морейра. 
                        Здесь старинные улицы гармонично соседствуют с современными кафе и винными погребами. 
                        Соседи: на север — Матозиньюш, на восток — Гондомар, на юг — Вила-Нова-де-Гая.
                    </p>
                    <a href="https://ru.wikipedia.org/wiki/Порту" target="_blank" class="btn btn-primary">Источник</a>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="modalKoimbra" data-index="3" aria-labelledby="modalKoimbraLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalKoimbraLabel">Коимбра — город университетов и культурного наследия</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
                </div>
                <div class="modal-body">
                    <img src="img/250px-CBR.png" class="img-fluid mb-3" style="max-height:150px;">
                    <img src="img/Coimbra_e_o_rio_Mondego_(6167200429)_(cropped).jpg" class="img-fluid mb-3" style="max-height:150px;">
                    <p>
                        Коимбра — город университетов и культурного наследия, население около 143 000 человек. 
                        Основан в 1080 году, мэр — Жозе Мануэл Силва. 
                        Исторический центр города манит туристов узкими улочками и величественными зданиями. 
                        Соседи: на север — Мира, на восток — Пениела, на юг — Монтемор-у-Велью.
                    </p>
                    <a href="https://ru.wikipedia.org/wiki/Коимбра" target="_blank" class="btn btn-primary">Источник</a>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="modalFaru" data-index="4" aria-labelledby="modalFaruLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalFaruLabel">Фару — ворота солнечного Алгарве</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
                </div>
                <div class="modal-body">
                    <img src="img/Faroarms.svg.png" class="img-fluid mb-3" style="max-height:150px;">
                    <img src="img/Faro_-_Portugal_(16083970893)_(cropped).jpg" class="img-fluid mb-3" style="max-height:150px;">
                    <p>
                        Фару — ворота солнечного Алгарве, население около 60 000 человек.
                        Основан в 1266 году, мэр — Роже́риу Бакальяу.
                        Здесь уютные улочки, морской бриз и живописные пляжи.
                        Соседи: на север — Сан-Браш-де-Алпортел, на запад — Луле, на восток — Ольян.
                    </p>
                    <a href="https://ru.wikipedia.org/wiki/Фару" target="_blank" class="btn btn-primary">Источник</a>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="modalEvora" data-index="5" aria-labelledby="modalEvoraLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalEvoraLabel">Эвора — жемчужина Алентежу</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
                </div>
                <div class="modal-body">
                    <img src="img/COA_of_Évora_municipality_(Portugal).png" class="img-fluid mb-3" style="max-height:150px;">
                    <img src="img/330px-Évora_-_Praça_do_Giraldo.jpg" class="img-fluid mb-3" style="max-height:150px;">
                    <p>
                        Эвора — жемчужина Алентежу с населением около 56 000 человек.
                        Основан в 1166 году, мэр — Карлос Пинту де Са.
                        Город славится историческим центром, римскими храмами и уютной атмосферой.
                        Соседи: на север — Араёйолос, на юг — Виана-ду-Алентежу, на восток — Эштремош.
                    </p>
                    <a href="https://ru.wikipedia.org/wiki/Эвора" target="_blank" class="btn btn-primary">Источник</a>
                </div>
            </div>
        </div>
    </div>
    <script src="bootstrap-5.3.8-dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const modals = Array.from(document.querySelectorAll('.modal'));
            const modalByIndex = {};
            modals.forEach(el => {
                const idx = parseInt(el.getAttribute('data-index'), 10);
                if (!Number.isNaN(idx)) modalByIndex[idx] = el;
            });

            const indices = Object.keys(modalByIndex)
                .map(Number)
                .sort((a, b) => a - b);

            let currentIndex = null;
            let switching = false;
            const backdrop = document.createElement('div');
            backdrop.className = 'modal-backdrop show';
            backdrop.style.display = 'none';
            document.body.appendChild(backdrop);
            const modalInstances = {};
            modals.forEach(el => {
                modalInstances[el.id] = new bootstrap.Modal(el, { backdrop: false });
            });
            modals.forEach(modal => {
                modal.addEventListener('shown.bs.modal', () => {
                    backdrop.style.display = 'block';
                    currentIndex = parseInt(modal.getAttribute('data-index'), 10);
                    switching = false;
                });

                modal.addEventListener('hidden.bs.modal', () => {
                    if (!switching) {
                        currentIndex = null;
                        backdrop.style.display = 'none';
                    }
                });
            });
            document.addEventListener('keydown', e => {
                if (currentIndex === null || switching) return;
                if (e.key !== 'ArrowLeft' && e.key !== 'ArrowRight') return;

                const pos = indices.indexOf(currentIndex);
                if (pos === -1) return;

                const nextPos = (e.key === 'ArrowRight')
                    ? (pos + 1) % indices.length
                    : (pos - 1 + indices.length) % indices.length;

                const nextIndex = indices[nextPos];
                const currentEl = modalByIndex[currentIndex];
                const nextEl = modalByIndex[nextIndex];
                if (!currentEl || !nextEl) return;

                switching = true;

                const currentModal = modalInstances[currentEl.id];
                const nextModal = modalInstances[nextEl.id];

                currentEl.addEventListener('hidden.bs.modal', function handler() {
                    currentEl.removeEventListener('hidden.bs.modal', handler);
                    nextModal.show();
                });

                currentModal.hide();
            });
        });
    </script>
</body>
</html>
